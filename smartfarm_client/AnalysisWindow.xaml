<Window x:Class="smartfarm_client.AnalysisWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        Title="데이터 분석" Width="1000" Height="650" Background="#1e1e1e">

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="200"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- 날짜 선택 -->
        <StackPanel Orientation="Horizontal" Margin="0 0 0 15">
            <DatePicker x:Name="dpStart" Width="150"/>
            <DatePicker x:Name="dpEnd" Width="150" Margin="10 0 0 0"/>
            <Button Content="조회" Width="100" Height="30"
                    Background="#444" Foreground="White"
                    Click="BtnQuery_Click"/>
        </StackPanel>

        <!-- 표 -->
        <DataGrid Grid.Row="1" x:Name="dgResult"
                  AutoGenerateColumns="False"
                  Background="#2b2b2b" Foreground="White"
                  FontSize="16" BorderThickness="0">

            <DataGrid.Columns>
                <DataGridTextColumn Header="센서" Binding="{Binding Sensor}" Width="*"/>
                <DataGridTextColumn Header="최소값" Binding="{Binding Min}" Width="*"/>
                <DataGridTextColumn Header="최댓값" Binding="{Binding Max}" Width="*"/>
                <DataGridTextColumn Header="평균" Binding="{Binding Avg}" Width="*"/>
            </DataGrid.Columns>
        </DataGrid>

        <StackPanel Grid.Row="2"
            Orientation="Horizontal"
            HorizontalAlignment="Center"
            Margin="0 20 0 0">
            <lvc:PieChart x:Name="pieA" Width="200" Height="200" Margin="0,0,40,0"/>
            <lvc:PieChart x:Name="pieB" Width="200" Height="200" Margin="0,0,40,0"/>
            <lvc:PieChart x:Name="pieC" Width="200" Height="200"/>
        </StackPanel>

    </Grid>
</Window>
